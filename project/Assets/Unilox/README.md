# Unilox

**Unilox** is a high-performance pseudorandom number generator (PRNG) library based on **Philox32**. It is optimized for games, simulations, and embedded applications, providing **zero-copy Span APIs** with automatic buffer management.

It consists of a **Rust-native backend** wrapped for C# with cross-platform support (x64/aarch64).

## Features

*   **Philox32 Algorithm**: High-quality, counter-based PRNG.
*   **High Performance**: Zero-copy `Span<T>` APIs for maximum efficiency.
*   **Automatic Buffer Management**: Defaults to 4KB buffer, configurable.
*   **Cross-Platform**: Supports x64 and aarch64 architectures.
*   **Warm-up Support**: Options for statistical stability.

## Installation

Download the latest release binaries from the GitHub Releases page.

## Usage

### 1. Initialization

Initialize the library before use. You can configure the buffer size and seeds.

```csharp
Unilox.Init(); // Default 4KB buffer

// Custom configuration
Unilox.Init(bufferSize: 16384, seed1: 123456789u, seed2: 987654321u, warm: 100000);
```

**2. Random Number Generation:**

```cs
// Single values
int dice = Unilox.Randint(1, 6);
float uni = Unilox.Randfloat(0f, 1f);

// Batch generation (zero-copy)
ReadOnlySpan<int> batch = Unilox.Randints(1000, -100, 100);
ReadOnlySpan<float> gauss = Unilox.Randfloats(5000, 0f, 10f);
```

**3. Cleanup:**

```cs
Unilox.Free(); // Always call to free native resources
```

## âš¡ Performance

### ğŸ“Š Benchmarkï¼ˆ10Mï¼‰
ãƒ»Uniloxï¼ˆOptimizedï¼‰: **11.8ms** ğŸ”¥
ãƒ»Uniloxï¼ˆNormalï¼‰: **22.6ms** âš¡
ãƒ»Unity.Random    : **74.9ms** ğŸŒ

## ğŸ”§ Output Ranges

- Randint(min, max) â†’ [min, max)
- Randfloat(min, max) â†’ [min, max)

## ğŸ›  Troubleshooting

- AccessViolation: Call Init() first, Free() after use
- OutOfMemory: Reduce bufferSize (64KB max recommended)
- Initial bias: Use warm parameter (100k-1M iterations)

## ğŸ“„ License

- MIT License Â© 2026 cet

**Ready for production deployment! ğŸš€**

---

##### CPU: Ryzen 7 9800X3D

##### Generated by [Perplexity][perplexity] and [Gemini][gemini].

[repository]: https://github.com/cet/unilox/releases
[perplexity]: https://www.perplexity.ai/
[gemini]: https://gemini.google.com/app/